
<%- include("../includes/header.ejs") %>

    <div class="h-screen container mx-auto mt-24 mb-6 px-4 flex flex-col items-center">
        <% if(blogs.length>0){ %>
            <a href="/blogs/create" title="create new blog" class="cursor-pointer md:mr-10 ml-auto rounded-full px-4 bg-pink-500 focus:bg-pink-700 text-white hover:text-pink-200 text-4xl font-extrabold"><b>+</b></a>
            <div class="my-3 w-full flex flex-col items-center">
                <h1 class="font-bold text-blue-900 text-lg my-3">Filter By Category:</h1>
                <select id="categories" name="category" class="w-10/12 sm:w-7/12 md:w-1/2 lg:w-5/12 xl:w-1/3 px-3 py-1 bg-white text-gray-800 border border-gray-300 rounded focus:outline-none focus:border-blue-200 cursor-pointer select-none">
                    <option value="All" selected>All</option>
                    <option value="Technology">Technology</option>
                    <option value="Art">Art</option>
                    <option value="Business">Business</option>
                    <option value="Nature">Nature</option>
                    <option value="Health">Health</option>
                    <option value="Education">Education</option>
                    <option value="Engineering">Engineering</option>
                </select>
            </div>
            <div class="w-full">
                <div class="mb-4 mt-8 text-center">
                    <h1 id="heading" class="font-bold md:font-bold text-2xl sm:text-3xl text-orange-600 select-none"><span class="type">All</span> Blogs</h1>
                </div>
                <div id="blogs_container" class="w-full flex flex-wrap sm:mx-24 md:mx-4 lg:mx-10 xl:mx-20">
                    <% blogs.forEach(blog=>{ %>
                        <a id="<%= blog.category %>" href="/blog/<%= blog.id %>" class="flex flex-col w-11/12 xs:w-10/12 sm:w-7/12 md:w-5/12 lg:w-3/12 m-6 transform translate-y-0 hover:-translate-y-1 shadow-sm hover:shadow-lg transition-all duration-600 ease-out" title="click to show the blog">
                            <div class="w-full relative">
                                <div class="absolute w-full bg-gray-700 inset-0 opacity-0 hover:opacity-25 rounded-md transition-all duration-300 ease-out"></div>
                                <div class="w-full rounded">
                                    <img src="/assets/images/uploads/<%= blog.image %>" class="w-full h-40 rounded-md rounded-b-none">
                                </div>
                                <div class="px-4 pt-2 pb-3 bg-gray-200 rounded hover:shadow-sm capitalize">
                                    <div class="mt-2 px-2 text-blue-900 text-sm font-bold">
                                        <h1 class="title md:h-10"><%= blog.title %></h1>
                                    </div>
                                    <div class="inline-block mt-4 select-none">
                                        <p class="px-2 py-1 font-semibold text-xs text-indigo-900 bg-orange-200 rounded-lg"><%= blog.category %></p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    <% }); %> 
                </div>
                <div id="not_found_category" class="text-gray-700 font-semibold text-lg text-center mt-8"></div>
            </div>
        <% }else{ %>
                <div class="text-gray-700 font-semibold text-lg mt-8">We Couldn't Find Any Blogs :(</div>
                <div class="mt-1 h-screen text-lg text-gray-700">
                    <a href="/blogs/create" class="text-blue-500 hover:underline"><b>Click here</b> </a>
                    <span>to create new blog</span>
                </div>
        <% } %>
    </div>

    
<script src="/js/frontend/filterBlogs.js"></script>
<script src="/js/frontend/cutLongTitles.js"></script>
